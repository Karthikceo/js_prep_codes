function countDerangements(N) {
    const MOD = 100000007;
    if (N === 0) return 1; 
    if (N === 1) return 0; 
    if (N === 2) return 1; 
    let derangements = new Array(N + 1);
    derangements[0] = 1; 
    derangements[1] = 0; 
    derangements[2] = 1; 
    for (let i = 3; i <= N; i++) {
        derangements[i] = ((i - 1) * (derangements[i - 1] + derangements[i - 2])) % MOD;
    }

    
    return derangements[N];
}


let N = 4;
console.log(countDerangements(N));
